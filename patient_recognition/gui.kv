#:kivy 2.0.0
#:import MyToggleButton gui.MyToggleButton
<Gui>:
    MDFloatLayout:
        size: root.size
        # Camera:
        #     id: surgery_camera
        #     index: 0
        #     # resolution: (1280, 720)
        #     allow_stretch: True
        #     size_hint: 0.77, 0.84
        #     pos_hint: {"x":0.01, "y":0.15}
        #     opacity: 1 if root.usingCam else 0
        KivyCamera:
            id: surgery_video
            # resolution: (3840, 2160)
            allow_stretch: True
            size_hint: 0.77, 0.84
            pos_hint: {"x":0.01, "y":0.15}
            opacity: 1 if root.camIsShown else 0
        MDLabel:
            size_hint: 0.77, 0.84
            pos_hint: {"x":0.26, "y":0.15}
            font_style: "H4"
            font_size: "144sp"
            id: loadingLabel
            text: "Optimizing..."
            text_color: app.theme_cls.accent_color
            opacity: 0 if root.camIsShown else 1
        MDCard:
            padding: "8sp"
            size_hint: 0.20,0.77
            pos_hint: {"x":0.79, "y":0.22}
            orientation: "vertical"
            # pos: surgery_video.right, self.parent.center_y / 2
            MDCard:
                padding: "4sp"
                size: "50sp", "25sp"
                MDLabel:
                    font_style: "H4"
                    id: patientNameLabel
                    text: root.name_label
                    text_color: app.theme_cls.accent_color
            MDSeparator:
                height: "2sp"
            MDCard:
                padding: "4sp"
                size: "50sp", "25sp"
                MDLabel:
                    font_style: "H4"
                    id: patientDOBLabel
                    text: root.dob_label
                    text_color: app.theme_cls.accent_color
            MDSeparator:
                height: "2sp"
            MDCard:
                padding: "4sp"
                MDLabel:
                    font_style: "H4"
                    id: surgeryTypeLabel
                    text: root.surgery_label
                    text_color: app.theme_cls.accent_color
            MDSeparator:
                height: "2sp"
            MDCard:
                padding: "4sp"
                MDLabel:
                    font_style: "H4"
                    id: surgicalEyeLabel
                    text: root.eye_label
                    text_color: app.theme_cls.accent_color
        MDBoxLayout:
            adaptive_size: True
            pos_hint: {"x":0.79, "y":0.17}
            size_hint: 0.20,0.05
            MyToggleButton:
                id: leftEyeToggle
                text: "Left Eye"
                group: "eyeToggle"
                size_hint: 1,1
                # pos_hint: {"x":0.79, "y":0.20}
            MyToggleButton:
                index: 1
                id: rightEyeToggle
                text: "Right Eye"
                group: "eyeToggle"
                size_hint: 1,1
                # pos_hint: {"x":0.85, "y":0.20}
        MDFillRoundFlatIconButton:
            id: start_button
            text: "Start"
            icon: "play"
            pos_hint: {"x":0.01, "y":0.01}
            size_hint: 0.23, 0.1
            font_style: "H4"
            text_color: app.theme_cls.accent_color
            md_bg_color: app.theme_cls.primary_color
            on_press: root.start(self)
        MDFillRoundFlatIconButton:
            id: focus_button
            text: "Focus"
            icon: "focus-field"
            pos_hint: {"x":0.25, "y":0.01}
            size_hint: 0.23, 0.1
            font_style: "H4"
            text_color: app.theme_cls.accent_color
            md_bg_color: app.theme_cls.primary_color
            on_press: root.focus(self)
        MDFillRoundFlatIconButton:
            id: reset_button
            text: "Reset"
            icon: "skip-backward"
            pos_hint: {"x":0.49, "y":0.01}
            size_hint: 0.23, 0.1
            font_style: "H4"
            # font_size: self.width * 0.75
            text_color: app.theme_cls.accent_color
            md_bg_color: app.theme_cls.primary_color
            on_press: root.reset(self)
        FitImage:
            id: alcon_image
            source: "Alcon50.png"
            size_hint: 0.27, 0.11
            pos_hint: {"x": 0.72, "y": 0.02}
            radius: [36, 36, 0, 0, ]


